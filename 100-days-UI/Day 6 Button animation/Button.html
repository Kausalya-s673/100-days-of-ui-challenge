<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Neon Confetti Button</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: black;

        font-family: sans-serif;
      }

      .container {
        position: relative;
        z-index: 2;
        width: 250px;
        height: 86x;
        background: linear-gradient(90deg, #ff0066, #6600ff, #00ffff);
        padding: 4px;
        border-radius: 20px;
        box-shadow: 0 0 20px rgba(255, 0, 102, 0.5),
          0 0 40px rgba(102, 0, 255, 0.5), 0 0 60px rgba(0, 255, 255, 0.5);
      }

      .submit-btn {
        position: relative;
        border: none;
        color: #fff;
        padding: 5px 3px 5px 6px;
        font-size: 18px;
        cursor: pointer;
        width: 250px;
        height: 80px;
        border-radius: 20px;
        background: rgb(30, 29, 29);
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: 0.3s;
      }

      .submit-btn::before {
        content: "";
        position: absolute;
        top: 5px;
        left: 5px;
        right: 5px;
        bottom: 5px;
        background: linear-gradient(90deg, red, magenta, cyan, blue, red);
        z-index: -1;
        width: 265px;
        border-radius: 20px;
        filter: blur(6px);
        animation: neonBorder 5s linear infinite;
      }

      @keyframes neonBorder {
        0% {
          filter: hue-rotate(0deg);
        }
        100% {
          filter: hue-rotate(360deg);
        }
      }

      .arrow {
        background-color: #1d735e;
        border-radius: 50%;
        padding: 10px;
        margin-right: 12px;
        transition: transform 2.5s ease;
        font-size: 18px;
      }

      .arrow.slide {
        transform: translateX(180px) scale(2.5s);
        opacity: 0;
      }

      canvas {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
        pointer-events: none;
      }
      .submit-btn span {
        color: #fff;
        text-shadow: 0 0 5px #00fff7, 0 0 10px #768281, 0 0 20px #788484;
      }
    </style>
  </head>
  <body>
    <canvas id="confetti-canvas"></canvas>
    <div class="container">
      <button class="submit-btn" id="submitBtn">
        <span class="arrow" id="arrow">âž¡</span>
        <span id="btnText">Submit</span>
      </button>
    </div>

    <!-- Three.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
      const btn = document.getElementById("submitBtn");
      const arrow = document.getElementById("arrow");
      const text = document.getElementById("btnText");

      btn.addEventListener("click", () => {
        if (arrow.classList.contains("slide")) return;
        arrow.classList.add("slide");
        text.textContent = "Submitted";
        setTimeout(() => explodeConfetti(), 800);
      });

      // THREE.JS Confetti Setup
      let scene = new THREE.Scene();
      let camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.3,
        1000
      );
      let renderer = new THREE.WebGLRenderer({
        canvas: document.getElementById("confetti-canvas"),
        alpha: true,
      });
      renderer.setSize(window.innerWidth, window.innerHeight);

      let particles = [];
      const colors = [
        0xff4b5c, 0xffc93c, 0x6ef3d6, 0x826aed, 0xff7eb3, 0x00ffcc, 0xffffff,
      ];

      function explodeConfetti() {
        for (let i = 0; i < 200; i++) {
          let geometry = new THREE.SphereGeometry(0.08, 8, 8);
          let material = new THREE.MeshBasicMaterial({
            color: colors[Math.floor(Math.random() * colors.length)],
          });
          let particle = new THREE.Mesh(geometry, material);

          particle.position.set(0, 0, 0);
          particle.velocity = new THREE.Vector3(
            (Math.random() - 0.5) * 6,
            Math.random() * 6,
            (Math.random() - 0.5) * 6
          );

          scene.add(particle);
          particles.push(particle);
        }
      }

      camera.position.z = 5;

      function animate() {
        requestAnimationFrame(animate);
        particles.forEach((p) => {
          p.position.add(p.velocity.clone().multiplyScalar(0.05));
          p.velocity.y -= 0.03; // gravity
        });
        renderer.render(scene, camera);
      }

      animate();

      window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    </script>
  </body>
</html>
